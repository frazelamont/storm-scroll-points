!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.StormScrollpoints=e()}(this,function(){"use strict";function t(t,e){var n=[].slice.call(document.querySelectorAll(t));if(0===n.length)throw new Error("Scrollpoints cannot be initialised, no augmentable elements found");return n.forEach(function(t,n){i[n]=STORM.UTILS.assign(Object.create(o),{DOMElement:t,settings:STORM.UTILS.merge({},s,e)}),i[n].init()}),i}function e(e,i){n(),t(e,i)}function n(){document.removeEventListener("scroll",self.throttled),document.removeEventListener("resize",self.throttled),i=[]}var i=[],s={offset:0,callback:null,throttle:60,className:"is-scrolled-in",unload:!0},o={init:function(){this.throttled=STORM.UTILS.throttle(function(){this.check.call(this)}.bind(this),this.settings.throttle),document.addEventListener("scroll",this.throttled,!0),document.addEventListener("resize",this.throttled,!0),this.check()},check:function(){this.enteredView()&&(STORM.UTILS.classlist(this.DOMElement).add(this.settings.className),!!this.settings.callback&&this.settings.callback.call(this),this.settings.unload&&(document.removeEventListener("scroll",this.throttled,!0),document.addEventListener("resize",this.throttled,!0)))},enteredView:function(){var t=this.DOMElement.getBoundingClientRect(),e=this.settings.offset.indexOf&&this.settings.offset.indexOf("%")?window.innerHeight-window.innerHeight/100*+this.settings.offset.substring(0,this.settings.offset.length-1):window.innerHeight-+this.settings.offset;return e=isNaN(e)?window.innerHeight:e,t.top-e<=0}};return{init:t,reload:e,destroy:n}});